# =============================================================================
# API KEY MANAGEMENT SERVICE - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update with your actual values
# Never commit .env with real credentials to version control

# ================================
# APPLICATION SETTINGS
# ================================

# Application environment: development, staging, production
# NOTE: Set to 'production' to enable BetterStack log forwarding
ENVIRONMENT=development

# API version identifier
API_VERSION=1.0.0

# Server host and port (for local development)
HOST=0.0.0.0
PORT=8000

# ================================
# DATABASE CONFIGURATION
# ================================

# Database connection string (required)
# Format: postgresql+asyncpg://user:password@host:port/database?sslmode=require
# Example: postgresql+asyncpg://admin:secret@localhost:5432/apikeys
# For Neon or other cloud providers, use their connection string with pooler
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/apikeys

# Database pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# Database health check timeout in seconds
DB_HEALTH_CHECK_TIMEOUT=5

# ================================
# API SECURITY
# ================================

# Secret key for cryptographic operations (generate with: openssl rand -hex 32)
# IMPORTANT: Change this in production!
SECRET_KEY=your-secret-key-here-change-in-production

# CORS allowed origins (comma-separated)
# Used for Cross-Origin Resource Sharing configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:8000,https://your-domain.com

# ================================
# LOGGING & MONITORING
# ================================

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Optional: Log file path (uncomment to enable file logging)
# LOG_FILE=/var/log/apikey_management.log

# BetterStack (Logtail) Configuration (Optional - Production Only)
# Sign up at: https://betterstack.com/logtail
# Get your source token from: https://logs.betterstack.com/team/[TEAM_ID]/sources
# Only active when ENVIRONMENT=production
# BETTERSTACK_SOURCE_TOKEN=your_source_token_here
# BETTERSTACK_INGESTING_HOST=in.logtail.com

# ================================
# MONITORING & HEALTH
# ================================

# Enable health check endpoints
HEALTH_CHECK_ENABLED=true

# ================================
# VERCEL DEPLOYMENT (Optional)
# ================================

# Automatically set by Vercel (do not modify manually)
# VERCEL=1

# =============================================================================
# NOTES
# =============================================================================
# 
# 1. DATABASE_URL must use asyncpg driver: postgresql+asyncpg://...
# 2. For Neon, use pooler endpoint for better performance
# 3. SECRET_KEY should be at least 32 characters of random data
# 4. CORS_ORIGINS should list all domains that will access the API
# 5. BetterStack logging only activates in production environment
# 
